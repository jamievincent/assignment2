<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title> 3D Map </title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.js'></script>
    <script src='./data.js'></script>
    <script src='./data2.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { width: 50%; height:400px; float: left }
        #map2 { width: 50%; height:400px; margin-left: 50%}
    </style>
</head>
    
<div class="topnav">

<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="3d.html">3D Map</a></li>
</ul>

</div>
    
<body>

<div id='map'></div>
<div id='map2'></div>
    
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiamFtaWV2aW5jZW50IiwiYSI6ImNqbG90dG0xZTF3d2czcW54cGN5aHZyOXQifQ.9L5daQgF5h_mLggsruLueA';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v9',
    center: [151.004105, -33.813002],
    zoom: 9,
    pitch: 45, 
    bearing: -17.6
});
map.on('load', function() {
    map.addLayer({
        "id": "data",
        "type": "fill-extrusion",        
        "source": {        
            'type': 'geojson',        
            'data': data        
        },           
        'paint': {                
            'fill-extrusion-color' : {                    
                'property': 'bachdeg',                    
                "stops":[                    
                    [0, 'white'],                    
                    [1, '#427dd7']                    
                ]                                    
            },                
            'fill-extrusion-height' : {                    
                'property': 'bachdeg',                    
                "stops":[                    
                    [0.2, 0],                    
                    [1, 10000]                    
                ]                
            },                 
            'fill-extrusion-opacity': 1            
        }    
    }); 
});
    
var maptwo = new mapboxgl.Map({
    container: 'map2',
    style: 'mapbox://styles/mapbox/light-v9',
    center: [151.004105, -33.813002],
    zoom: 9,
    pitch: 45, 
    bearing: -17.6
});
maptwo.on('load', function() {
    maptwo.addLayer({
        "id": "data2",
        "type": "fill-extrusion",        
        "source": {        
            'type': 'geojson',        
            'data': data2        
        },           
        'paint': {                
            'fill-extrusion-color' : {                    
                'property': 'income',                    
                "stops":[                    
                    [0, 'white'],                    
                    [1, 'green']                    
                ]                                    
            },                
            'fill-extrusion-height' : {                    
                'property': 'income',                    
                "stops":[                    
                    [0.2, 0],                    
                    [1, 10000]                    
                ]                
            },                 
            'fill-extrusion-opacity': 1            
        }    
    }); 
});
</script>

</body>
</html>
